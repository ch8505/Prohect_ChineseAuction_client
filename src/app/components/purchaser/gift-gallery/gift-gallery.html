<div class="flex justify-content-end mb-3">
    <p-button label="הוספת מתנה חדשה" icon="pi pi-plus" (click)="onAdd()"></p-button>
</div>




<p-table [value]="listOfGifts" class="p-datatable-striped">
    <ng-template pTemplate="header">
        <tr>
            <th>קוד</th>
            <th>שם</th>
            <th>מחיר</th>
            <th>קטגוריה</th>
            <th>תמונה</th>
            <th>תורם</th>
            <th>מחיקה</th>
            <th>עריכה</th>

        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-gift>
        <tr>
            <td>{{gift.id}}</td>
            <td>{{gift.name}}</td>
            <td>{{gift.ticketPrice}} ₪</td>
            <td>{{gift.categoryName}}</td>
            <td><img [src]="gift.imageUrl" width="50" height="50" /></td>
            <td>{{gift.donorName}}</td>
            <td>
                <p-button icon="pi pi-pencil" [text]="true" (click)="onEdit(gift)"></p-button>
            </td>
            <td>
                <p-button icon="pi pi-trash" [text]="true" severity="danger" (click)="delete(gift.id)"></p-button>
            </td>

        </tr>
    </ng-template>
</p-table>



@if(displayDialog) {
<p-dialog [header]="selectedGift ? 'עריכת מתנה' : 'הוספת מתנה חדשה'" [(visible)]="displayDialog" [style]="{width: '50vw'}">
    <app-gift-form 
        [giftToEdit]="selectedGift" 
        [categories]="categories"
        (save)="onSaveGift($event)"
        (cancel)="closeDialog()">
    </app-gift-form>
</p-dialog>
}