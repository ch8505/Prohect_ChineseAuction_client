<div class="form-container">
    <h2 class="text-xl font-bold mb-4">{{ donorToEdit ? 'עריכת תורם' : 'הוספת תורם חדש' }}</h2>
    
    <form [formGroup]="form" (ngSubmit)="submit()">

        <div class="form-field">
            <label for="name">שם התורם <span class="text-red-500">*</span></label>
            <input pInputText id="name" formControlName="name" />
            @if (form.get('name')?.touched && form.get('name')?.invalid) {
                <small class="error-msg">נא להזין שם תקין (לפחות 2 תווים)</small>
            }
        </div>

        <div class="form-field">
            <label for="email">אימייל <span class="text-red-500">*</span></label>
            <input pInputText id="email" formControlName="email" dir="ltr" />
            @if (form.get('email')?.touched && form.get('email')?.invalid) {
                <small class="error-msg">כתובת אימייל לא תקינה</small>
            }
        </div>

        <div class="form-field">
            <label for="phone">טלפון <span class="text-red-500">*</span></label>
            <input pInputText id="phone" formControlName="phone" dir="ltr" />
            @if (form.get('phone')?.touched && form.get('phone')?.invalid) {
                <small class="error-msg">מספר טלפון חובה (ספרות בלבד)</small>
            }
        </div>

        <div class="form-actions">
            <p-button label="ביטול" icon="pi pi-times" [text]="true" severity="secondary" (click)="cancel.emit()"></p-button>
            <p-button [label]="donorToEdit ? 'עדכן תורם' : 'צור תורם'" icon="pi pi-check" type="submit"></p-button>
        </div>

    </form>
</div>