<div class="auth-container" dir="rtl">
    <div class="auth-header">
        <i class="pi pi-lock-open tech-icon"></i>
        <h2>כניסה למערכת</h2>
        <p>התחברי כדי להמשיך ברכישה</p>
    </div>

    <form #loginForm="ngForm" (ngSubmit)="onLogin()" class="auth-form">

        <!-- אימייל -->
        <div class="input-field-group">
            <label>אימייל</label>

            <p-iconfield iconPosition="right">
                <input pInputText
                       type="email"
                       name="email"
                       [(ngModel)]="credentials.email"
                       placeholder="דוא״ל שלך"
                       required
                       email />

                <p-inputicon class="pi pi-envelope"></p-inputicon>
            </p-iconfield>
        </div>

        <!-- סיסמה (בלי IconField!) -->
        <div class="input-field-group">
            <label>סיסמה</label>

            <p-password name="password"
                        [(ngModel)]="credentials.password"
                        [toggleMask]="true"
                        [feedback]="false"
                        placeholder="סיסמה"
                        required
                        styleClass="w-full">
            </p-password>
        </div>

        <p-button label="התחברות"
                  icon="pi pi-sign-in"
                  type="submit"
                  [loading]="isLoading()"
                  [disabled]="!loginForm.valid"
                  styleClass="submit-button">
        </p-button>

        <div class="auth-footer">
            <span>עדיין לא רשומה?</span>
            <p-button label="ליצירת חשבון חדש"
                      variant="text"
                      (onClick)="switchToRegister.emit()">
            </p-button>
        </div>

    </form>
</div>
